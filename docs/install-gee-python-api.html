<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Install Google Earth Engine Python API</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-172372432-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-172372432-3');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Courses</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="http://spatialthoughts.com">Back to Main Site</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="#">Back to Top</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Install Google Earth Engine Python API</h1>
<h3 class="subtitle">A Step-by-step guide for installing Gthe oogle Earth Engine Python API via Conda</h3>

</div>

<div id="TOC">
<ul>
<li><a href="#install-earth-engine-api">1. Install Earth Engine API</a></li>
<li><a href="#install-google-cloud-cli">2. Install Google Cloud CLI</a></li>
<li><a href="#authentication">3. Authentication</a></li>
</ul>
</div>

<div id="install-earth-engine-api" class="section level2">
<h2>1. Install Earth Engine API</h2>
<p>The preferred method for installing the Earth Engine Python API is via Anaconda.</p>
<ol style="list-style-type: decimal">
<li><a href="https://www.anaconda.com/products/individual">Download the Anaconda Installer</a> for Python 3.7 (or a higher version) for your operating system. Once downloaded, double click the installer and install it into the default suggested directory. Select an install for <em>Just Me</em> and <strong>use default settings</strong>. <em>Note: If your username has spaces, or non-English characters, it causes problems. In that case, you can install it to a path such as <code>C:\anaconda</code>.</em></li>
</ol>
<p><img src="images/common/eeapi_conda1.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>(<em>Windows users</em>) Once installed, search for <em>Anaconda Prompt</em> launch it. (<em>Mac/Linux users</em>): Launch a <em>Terminal</em> window.</li>
</ol>
<p><img src="images/common/eeapi_conda2.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Once the prompt launches, it will be in the <em>base</em> environment. It is a good practice to install new packages in a separate environment. We will new create a new environment to install Earth Engine related packages. Enter the below code to create a new environment called <strong>ee</strong>.</li>
</ol>
<blockquote>
<p>Note: You can use the shortcut <em>Shift + Insert</em> to paste commands in Anaconda Prompt.</p>
</blockquote>
<pre><code>conda create --name ee</code></pre>
<p><img src="images/common/eeapi_conda3.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Anaconda will validate the conda commands and before proceeding will ask for confirmation, press <strong>y</strong>, and <strong>enter</strong> to confirm.</li>
</ol>
<p><img src="images/common/eeapi_conda4.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Once the environment is created the <em>Executing transaction: done</em> message will be displayed, if the execution is not successful, it will be marked as failed with an error message. Enter the code to activate the environment.</li>
</ol>
<pre><code>conda activate ee</code></pre>
<p><img src="images/common/eeapi_conda5.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>Now the <code>(base)</code> will be replaced with <code>(ee)</code> indicating the environment is activated, now libraries in this environment will not affect the base environment. Also, these libraries can be used only in this environment cannot be accessed from the base or other environments.</li>
</ol>
<p><img src="images/common/eeapi_conda6.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Now, the <strong>earthengine-api</strong> library can be installed using the conda-forge enter the below code, anaconda prompt will ask for confirmation, press <strong>y</strong> and <strong>Enter</strong> to install the library.</li>
</ol>
<pre><code>conda install -c conda-forge earthengine-api</code></pre>
<p><img src="images/common/eeapi_conda7.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="8" style="list-style-type: decimal">
<li>On successful installation <em>Executing transaction: done</em> will be displayed, enter the below code to install <em>geemap</em> library.</li>
</ol>
<pre><code>conda install -c conda-forge geemap</code></pre>
<p><img src="images/common/eeapi_conda8.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="9" style="list-style-type: decimal">
<li>Once the library installs successfully, enter the below code to install <code>jupyter lab</code>, it is a browser-based user interface that can be used for executing python commands in a notebook format file.</li>
</ol>
<pre><code>conda install -c conda-forge jupyterlab</code></pre>
<p><img src="images/common/eeapi_conda9.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="10" style="list-style-type: decimal">
<li>On successful installation <em>Executing transaction: done</em> will be displayed. To launch it enter the below code and click enter.</li>
</ol>
<pre><code>jupyter lab</code></pre>
<p><img src="images/common/eeapi_conda10.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="11" style="list-style-type: decimal">
<li>A new browser tab will open with an instance of JupterLab. Click the <em>Python 3</em> button under <em>Notebooks</em>.</li>
</ol>
<blockquote>
<p>Note: Do not close the Anaconda prompt as the jupyter server is running using this connection, which will be interrupted if the prompt is closed.</p>
</blockquote>
<p><img src="images/common/eeapi_conda11.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="12" style="list-style-type: decimal">
<li>Enter the below code and click the <em>Run</em> button, if the execution is successful all the libraries and their dependencies are installed successfully.</li>
</ol>
<pre><code>import ee
import geemap</code></pre>
<p><img src="images/common/eeapi_conda12.png" width="75%" style="display: block; margin: auto;" /></p>
</div>
<div id="install-google-cloud-cli" class="section level2">
<h2>2. Install Google Cloud CLI</h2>
<p>Google Earth Engine uses Google Cloud for authentication. You must also install and initialize the Google Cloud Command-Line Tool (CLI) <code>gcloud</code> before you can activate the Earth Engine API.</p>
<ol style="list-style-type: decimal">
<li>Visit the <a href="https://cloud.google.com/sdk/docs/install">gcloud CLI installation guide</a>. Select your operating system to see the installation instructions.</li>
</ol>
<p><img src="images/common/gcloud01.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Once installed, follow the instructions to configure the gcloud CLI. The instructions will guide you how to run the <code>gcloud init</code> command.</li>
</ol>
<p><img src="images/common/gcloud02.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>You’ll be asked to select a Google Cloud Project. Select the project that you use with Google Earth Engine. You can visit the <a href="https://console.cloud.google.com/">Google Cloud Console</a> to see the available project names.</li>
</ol>
<p><img src="images/common/gcloud03.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Your Google Cloud CLI is now installed and configured.</p>
</div>
<div id="authentication" class="section level2">
<h2>3. Authentication</h2>
<p>To run Python scripts locally using the <code>ee</code> module, you must complete a one-time authentication using the steps below. Once you complete the authentication flow, a token is permanently saved on the machine and will be used by the API automatically. This should be done only once on your machine.</p>
<ol style="list-style-type: decimal">
<li>Launch a terminal and activate the environment where you have installed the <code>earthengine-api</code> package. If you haven’t created an environment yet, refer to our <a href="#introduction-to-the-python-api">installation guide</a>.</li>
</ol>
<pre><code>conda activate ee</code></pre>
<p><img src="images/common/eeapi_auth01.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Earth Engine API comes with a <a href="https://developers.google.com/earth-engine/guides/command_line">Command Line Interface</a> (CLI) in form of the <code>earthengine</code> command. Run the command to check if it is successfully installed.</li>
</ol>
<pre><code>earthengine</code></pre>
<p><img src="images/common/eeapi_auth02.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>If the installation is correct, you should get a summary of available commands in the earth engine. If you get an error, follow the steps in our <a href="#introduction-to-the-python-api">installation guide</a>.</li>
</ol>
<p><img src="images/common/eeapi_auth03.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Let’s authenticate the client library by running the <code>authenticate</code> command. This command will use gcloud to generate a URL to complete the authentication flow. Complete the sign-in flow in your browser. Once done, you will receive a success message.</li>
</ol>
<pre><code>earthengine authenticate</code></pre>
<p><img src="images/common/eeapi_auth04.png" width="75%" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Lastly, you must select the Google Cloud project that you need to use with the Earth Engine API. Visit the <a href="https://console.cloud.google.com/">Google Cloud Console</a> to see the available project names. Run the following command and replace the <code>&lt;project_name&gt;</code> with your project name.</li>
</ol>
<pre><code>earthengine set_project &lt;project_name&gt;</code></pre>
<p><img src="images/common/eeapi_auth05.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Now your environment is ready to run Python scripts that use the Google Earth Engine API.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
